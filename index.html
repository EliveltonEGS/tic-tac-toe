<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Tic Tac Toe</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <section>
        <h1 class="game--title">Tic Tac Toe</h1>
        <div class="game--container">
            <div id="0" class="cell"></div>
            <div id="1" class="cell"></div>
            <div id="2" class="cell"></div>
            <div id="3" class="cell"></div>
            <div id="4" class="cell"></div>
            <div id="5" class="cell"></div>
            <div id="6" class="cell"></div>
            <div id="7" class="cell"></div>
            <div id="8" class="cell"></div>
        </div>
        <h2 class="game--status"></h2>
        <button id="reset" class="game--restart">Restart Game</button>
    </section>
    <script>

        var game = false;
        const X = "X", O = "O";
        var victoryX = 1, victoryO = 1, contador = 0;

        setText = (e) => {
            if (game) {
                document.getElementById(e).innerHTML = O;
                game = false;
            } else {
                document.getElementById(e).innerHTML = X;
                game = true;
            }
        }

        let x = document.querySelectorAll(".cell");

        for (let index = 0; index < x.length; index++) {
            document.getElementById(index).onclick = e => {
                if (document.getElementById(index).textContent == "") {
                    setText(index);
                    contador++;
                }

                // X Ganha
                if (document.getElementById(0).textContent === X && document.getElementById(1).textContent === X && document.getElementById(2).textContent === X) {
                    victoryX += 1;
                } else if (document.getElementById(3).textContent === X && document.getElementById(4).textContent === X && document.getElementById(5).textContent === X) {
                    victoryX += 1;
                } else if (document.getElementById(6).textContent === X && document.getElementById(7).textContent === X && document.getElementById(8).textContent === X) {
                    victoryX += 1;
                } else if (document.getElementById(0).textContent === X && document.getElementById(3).textContent === X && document.getElementById(6).textContent === X) {
                    victoryX += 1;
                } else if (document.getElementById(1).textContent === X && document.getElementById(4).textContent === X && document.getElementById(7).textContent === X) {
                    victoryX += 1;
                } else if (document.getElementById(2).textContent === X && document.getElementById(5).textContent === X && document.getElementById(8).textContent === X) {
                    victoryX += 1;
                } else if (document.getElementById(0).textContent === X && document.getElementById(4).textContent === X && document.getElementById(8).textContent === X) {
                    victoryX += 1;
                } else if (document.getElementById(2).textContent === X && document.getElementById(4).textContent === X && document.getElementById(6).textContent === X) {
                    victoryX += 1;
                }
                // O Ganha
                else if (document.getElementById(0).textContent === O && document.getElementById(1).textContent === O && document.getElementById(2).textContent === O) {
                    victoryO += 1;
                } else if (document.getElementById(3).textContent === O && document.getElementById(4).textContent === O && document.getElementById(5).textContent === O) {
                    victoryO += 1;
                } else if (document.getElementById(6).textContent === O && document.getElementById(7).textContent === O && document.getElementById(8).textContent === O) {
                    victoryO += 1;
                } else if (document.getElementById(0).textContent === O && document.getElementById(3).textContent === O && document.getElementById(6).textContent === O) {
                    victoryO += 1;
                } else if (document.getElementById(1).textContent === O && document.getElementById(4).textContent === O && document.getElementById(7).textContent === O) {
                    victoryO += 1;
                } else if (document.getElementById(2).textContent === O && document.getElementById(5).textContent === O && document.getElementById(8).textContent === O) {
                    victoryO += 1;
                } else if (document.getElementById(0).textContent === O && document.getElementById(4).textContent === O && document.getElementById(8).textContent === O) {
                    victoryO += 1;
                } else if (document.getElementById(2).textContent === O && document.getElementById(4).textContent === O && document.getElementById(6).textContent === O) {
                    victoryO += 1;
                }


                if (victoryO === 2) {
                    document.querySelector(".game--status").innerHTML = `[O] GANHOU!!!`;

                    for (let index = 0; index < x.length; index++) {
                        document.getElementById(index).innerHTML = "";
                    }

                    game = false;
                    victoryO = 1;
                    contador = 0;
                }

                if (victoryX === 2) {
                    document.querySelector(".game--status").innerHTML = `[X] GANHOU!!!`;

                    for (let index = 0; index < x.length; index++) {
                        document.getElementById(index).innerHTML = "";
                    }

                    game = false;
                    victoryX = 1;
                    contador = 0;
                }

                if (contador === 9) {
                    document.querySelector(".game--status").innerHTML = `JOGO EMPATOU!!!`;

                    game = false;
                    victoryO = 1;
                    victoryX = 1;
                    contador = 0;
                }
            }
        }

        document.getElementById("reset").onclick = () => {
            game = false;
            victoryO = 1;
            victoryX = 1;
            contador = 0;

            for (let index = 0; index < x.length; index++) {
                document.getElementById(index).innerHTML = "";
            }

            document.querySelector(".game--status").innerHTML = "";
        }
    </script>

</body>

</html>